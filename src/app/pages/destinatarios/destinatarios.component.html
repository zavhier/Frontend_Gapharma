<app-menu></app-menu>
<div class="content">
   <div class="row">
      <div class="class col-6">
          <form (ngSubmit)="buscar( termino.value )" class="form-horizontal col-md-12 p-0">
                <i *ngIf="!estaBuscando" class="fa fa-search icon-header-buscar-ped"></i>
                <i *ngIf="estaBuscando" class="fa fa-spinner fa-spin icon-header-buscar-ped"></i>
                <input name="_termino" #termino (keyup)="VaciarBusqueda( termino.value )" placeholder="Buscar por Cliente" type="text" class="form-control txt-header-buscar-ped" style="color: #868e96; margin-left: 17px;  margin-top: -21px;">
                <span class="float-right text-enter-buscar" style="margin-top: -21px;">Presione 'Enter' para buscar</span>
                <i *ngIf="_termino.length > 0" class="fa fa-times-circle icon-delete-buscar float-right" (click)="_termino = ''; buscar('')"></i>
            </form>

      </div>
      <div class="class col-6">
        <button  class="btn btn-outline-primary fom-control btn-grid" style="margin-right: 4px;border: 0px; float: right;" data-toggle="modal" data-target="#exampleModalPersona"><i class="fa fa-user"></i></button>
        <button  class="btn btn-outline-primary fom-control btn-grid" style="margin-right: 4px;border: 0px;float: right;" data-toggle="modal" data-target="#exampleModalDestinatario"><i class="fa fa-bus"></i></button>
       
      
      </div>
   </div>
    <div class="row">
      <div class="class col-12">
        <table class="table">
            <thead class="thead-dark">
              <tr>          
                <th scope="col">#</th>
                <th scope="col">Razon social</th>
                <th scope="col">Dirección</th>
                <th scope="col">Código postal</th>
                <th scope="col">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of sListDestinatrio">
                  <td>{{item.CLIENTE_ID }}</td>
                  <td>{{item.RAZON_SOCIAL }}</td>
                  <td>{{item.DIRECCION_ENTREGA }}</td>
                  <td>{{item.CODIGO_POSTAL }}</td>
                  <td>
                      <button  class="btn btn-outline-primary fom-control btn-grid" style="margin-right: 4px;border: 0px;" (click)="getPersona(item.PERSONA_ID);"><i class="fa fa-user"></i></button>
                      <button  class="btn btn-outline-primary fom-control btn-grid" style="margin-right: 4px;border: 0px;"><i class="fa fa-trash"></i></button>
                      <button  class="btn btn-outline-primary fom-control btn-grid" style="border: 0px;"><i class="fa fa-paper-plane"></i></button>
                  </td>
              </tr>
            </tbody>
          </table>
      </div>
    </div>
</div>
<app-footer></app-footer>

<div class="modal fade bd-example-modal-lg" id="exampleModalPersona"  tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title" id="exampleModalLabel">Nuevo Contacto</h5>
       <button type="button" class="close" data-dismiss="modal" aria-label="Close">
         <span aria-hidden="true">&times;</span>
       </button>
     </div>
     <div class="modal-body">
         <div class="row" style="margin-bottom: 4px;">
            <div class="col-6">
                <input  type="text" [(ngModel)]="sPersona.NOMBRE" class="form-control" placeholder="Nombre"/>
            </div>
            <div class="col-6">
              <input  type="text"  [(ngModel)]="sPersona.APELLIDO" class="form-control" placeholder="Apellido"/>
            </div>
         </div>
         <div class="row" style="margin-bottom: 4px;">
            <div class="col-6">
                <input  type="text"  [(ngModel)]="sPersona.DNI" class="form-control" placeholder="Dni"/>
            </div>
            <div class="col-6">
              <input  type="text" [(ngModel)]="sPersona.CUIL" class="form-control" placeholder="Cuil"/>
            </div>
        </div>
                
        <div class="row" style="margin-bottom: 4px;">
            <div class="col-6">
                <input  type="text" [(ngModel)]="sPersona.DIRECCION" class="form-control" placeholder="Dirección"/>
            </div>
            <div class="col-6">
              <input  type="text" [(ngModel)]="sPersona.CODIGO_POSTAL" class="form-control" placeholder="Código Postal"/>
            </div>
         </div>
         <div class="row" style="margin-bottom: 4px;">
            <div class="col-6">
                <input  type="text" [(ngModel)]="sPersona.CIUDAD" class="form-control" placeholder="Ciudad"/>
            </div>
            <div class="col-6">
              <input  type="text" [(ngModel)]="sPersona.LOCALIDAD" class="form-control" placeholder="Localidad"/>
            </div>
         </div>
         <div class="row" style="margin-bottom: 4px;">
            <div class="col-12">
              <input type="email"  [(ngModel)]="sPersona.EMAIL" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
            </div>
        
          </div>
          <div class="row" style="margin-bottom: 4px;">
            <div class="col-6">
                <input  type="text" [(ngModel)]="sPersona.TELEFONO_1" class="form-control" placeholder="Telefono"/>
            </div>
            <div class="col-6">
              <input  type="text" [(ngModel)]="sPersona.TELEFONO_2" class="form-control" placeholder="Celular"/>
            </div>
         </div>

     </div>
      <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="onSave();">Guardar</button>
      </div>
   </div>
 </div>
</div>


<div class="modal fade bd-example-modal-lg" id="exampleModalDestinatario"  tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title" id="exampleModalLabel">Nuevo Cliente</h5>
       <button type="button" class="close" data-dismiss="modal" aria-label="Close">
         <span aria-hidden="true">&times;</span>
       </button>
     </div>
     <div class="modal-body">
         <div class="row" style="margin-bottom: 4px;">
            <div class="col-6">
                <input  type="text"  [(ngModel)]=sDestinatario.RAZON_SOCIAL  class="form-control" placeholder="Razon social" />
            </div>
            <div class="col-6">
              <input  type="text" [(ngModel)]=sDestinatario.DIRECCION_ENTREGA  class="form-control" placeholder="Dirección"/>
            </div>
         </div>
         <div class="row" style="margin-bottom: 4px;">
            <div class="col-6">
                <input  type="text"[(ngModel)]=sDestinatario.CODIGO_POSTAL  class="form-control" placeholder="Código postal"/>
            </div>
            <div class="col-6">
                <select  name="servicio"  [(ngModel)]=sDestinatario.PERSONA_ID  style="width: 200px;"  #servicio (change)="change(servicio.value);" class="form-control form-control-mt select-mt" >
                  <option value="0">Seleccionar</option>
                   <option [value]="des.PERSONA_ID" *ngFor="let des of sListPersona" >{{ des.NOMBRE}} {{des.APELLIDO}} </option>
                </select> 
            </div>
        </div>
        

     </div>
      <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="onSaveDestinatario();" >Guardar</button>
      </div>
   </div>
 </div>
</div>